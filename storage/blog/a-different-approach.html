<h1>High level properties</h1>
<p>For every problem out there, there exist many solutions. Not all solutions are the same.</p>
<p>And not everybody likes the same solutions.</p>
<p>Look around how many programming languages exist, and
how each of them has advantages and disadvantages.</p>
<p>So it’s always worth it to create something that already exists.</p>
<p>The important thing is to
do it differently, and add your own perspective to it.</p>
<p>With this in mind, I created the Sigmie PHP library that takes a different approach to Elasticsearch.</p>
<p>This solution uses 20 percent of the Elasticsearch features but fits in 80 percent of
the world scenarios.</p>
<p>It’s made for companies and developers that don’t have enough
time to invest in Elasticsearch, but still want a decent Search.</p>
<p>To use it you <strong>don’t</strong> need any Elasticsearch knowledge at all. You only need an Elasticsearch server running somewhere.</p>
<p>Let me show you some features.</p>
<h3>You don’t need to know Elasticsearch</h3>
<p>So simple.</p>
<h3>Easy to get started</h3>
<p>You can start searching with 3 lines of code. Let me show you.</p>
<p>Let’s assume that you have a <code>users</code> table in your database and you want to make your users searchable.</p>
<p>The first step is to add your users to a search index called <code>users</code>.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">users</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">map</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">fn</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">toArray</span><span style="color: #89DDFF;">());</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">index</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">merge</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">users</span><span style="color: #89DDFF;">);</span></div></code></pre>
<p>with this two lines we our <code>$users</code> to a <strong>search index</strong>. Now we are ready to search for them.</p>
<p>Now let’s assume that in our UI we have a text input where our user searches for <code>john</code>.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">request</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">query</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// john</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">response </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newSearch</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">fields</span><span style="color: #89DDFF;">([</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">email</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">])-&gt;</span><span style="color: #82AAFF;">queryString</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">();</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">result </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">response</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">json</span><span style="color: #89DDFF;">();</span></div></code></pre>
<p>With the above lines, we search the <code>users</code> index if the <code>name</code> or the <code>email</code> attribute contains
the string <code>john</code>.</p>
<p>Here is and example how the JSON response may look like:</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">took</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #89DDFF;">        </span><span style="color: #676E95;">//</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">hits</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #89DDFF;">        </span><span style="color: #676E95;">//</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">hits</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_index</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">636cf7730ba43_20221110130659053736</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_type</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_doc</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_id</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">mA6mYYQBxEY4zeoFmp4P</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_score</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">0</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">9808291</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">_source</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">                    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">93</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">John Doe</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">email</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">johny_99@gmai.com</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">                    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">active</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">true</span></div><div class='line'><span style="color: #A6ACCD;">                </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">]</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #89DDFF;">}</span></div></code></pre>
<p>Now we can use the results to show the found users.</p>
<p>In this example we used the most minimal settings to quickly make our users searchable and start
searching them.</p>
<p>Let’s have a look on some options.</p>
<h3>Creating an Index</h3>
<p>In the first example, the Search Index is created as soon as we add our first user. But we can also <strong>first</strong> create
an Index with some configurations and add the <code>$users</code> afterward.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newIndex</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">();</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">merge</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">users</span><span style="color: #89DDFF;">);</span></div></code></pre>
<p>This way you can add stopwords, synonyms, define an index language or even strip HTML.</p>
<p>Here’s an example how you can add some stopwords.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newIndex</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">books</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">       </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">stopwords</span><span style="color: #89DDFF;">([</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">and</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">but</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">])</span></div><div class='line'><span style="color: #A6ACCD;">       </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">();</span></div></code></pre>
<p>Calling the <code>stopwords</code> method instructuts the Index to ignore the words <code>and</code> and <code>but</code> when searching.</p>
<p>There are plenty of methods available to create an index specific to our needs.</p>
<h3>Searching</h3>
<p>There are also more methods for searching.</p>
<p>For example we can specify which attributes can handle some typos.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">response </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newSearch</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">books</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">fields</span><span style="color: #89DDFF;">([</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">author</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">])</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">typoTolerantAttributes</span><span style="color: #89DDFF;">([</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">])</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">queryString</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">();</span></div></code></pre>
<p>Using the <code>typoTolerantAttributes</code> method above we say that we tolerate some typos in the <code>name</code> attribute.</p>
<p>And another example where we search for <strong>all</strong> published <code>books</code> and we sort them by <code>name</code>.</p>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">response </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newSearch</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">books</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">filter</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">is:published</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">sort</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name:asc</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">queryString</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">                   </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">();</span></div></code></pre>
<h3>Think of an <strong>Indices</strong> as a collections.</h3>
<p>Bellow are some examples of what you can do.</p>
<h4>Iterate on big indices</h4>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">books</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">chunk</span><span style="color: #89DDFF;">(</span><span style="color: #F78C6C;">500</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">each</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">function</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">document</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;">=&gt;</span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #89DDFF;">        </span><span style="color: #676E95;">// do something</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">});</span></div></code></pre>
<h4>Add a document</h4>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">use</span><span style="color: #FFCB6B;"> </span><span style="color: #A6ACCD;">Document</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Document</span><span style="color: #89DDFF;">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">movies</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">add</span><span style="color: #89DDFF;">(</span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Document</span><span style="color: #89DDFF;">([</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">Spider Man 3</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">]));</span></div></code></pre>
<h4>Get the document count</h4>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">index </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">movies</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #82AAFF;">count</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">index</span><span style="color: #89DDFF;">);</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// 200</span></div></code></pre>
<h4>Remove all documents</h4>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">index </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">movies</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #82AAFF;">count</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">index</span><span style="color: #89DDFF;">);</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// 200</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">index</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">clear</span><span style="color: #89DDFF;">();</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #82AAFF;">count</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">index</span><span style="color: #89DDFF;">);</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// 0</span></div></code></pre>
<h4>Check that a document exists</h4>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">collect</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">movies</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">has</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">mA6mYYQBxEY4zeoFmp4P</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h3>Some words</h3>
<p>The goal of this post was to give you an idea of what we made possible with our implementation and also
to show how Sigmie differs from the traditional Elasticsearch libraries out there.</p>
<p>All this is available in the <code>sigmie/sigmie</code> package, and will also exist in the <code>sigmie/elasticsearch-scout</code> once it’s released.</p>
