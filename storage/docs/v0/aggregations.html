<ul class="table-of-contents">
<li>
<a href="#content-metrics1234">Metrics1234</a>
<ul>
<li>
<a href="#content-sum">Sum</a>
</li>
<li>
<a href="#content-max">Max</a>
</li>
<li>
<a href="#content-min">Min</a>
</li>
<li>
<a href="#content-avg">Avg</a>
</li>
<li>
<a href="#content-value-count">Value Count</a>
</li>
</ul>
</li>
<li>
<a href="#content-bucket">Bucket</a>
<ul>
<li>
<a href="#content-stats">Stats</a>
</li>
<li>
<a href="#content-terms">Terms</a>
</li>
<li>
<a href="#content-range">Range</a>
</li>
</ul>
</li>
</ul>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight has-highlight-lines' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">sigmie</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">newQuery</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">orders</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">matchAll</span><span style="color: #89DDFF;">()</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregate</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">SearchAggregation</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">sum</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">turnover</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">})</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">();</span></div><div class='line'>&nbsp;</div><div class='line line-highlight line-has-background' style='background-color: #00000050'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">turnover.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// 54.403 </span></div></code></pre>
<h2><a id="content-metrics1234" href="#content-metrics1234" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Metrics1234</h2>
<h3><a id="content-sum" href="#content-sum" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Sum</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">sum</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">stock_sum</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">stock</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="sql" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">SELECT</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">SUM</span><span style="color: #A6ACCD;">(stock) </span><span style="color: #F78C6C;">AS</span><span style="color: #A6ACCD;"> stock_sum;</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">stock_sum.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h3><a id="content-max" href="#content-max" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Max</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">max</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">max_price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="sql" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">SELECT</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">MAX</span><span style="color: #A6ACCD;">(stock) </span><span style="color: #F78C6C;">AS</span><span style="color: #A6ACCD;"> max_price;</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">max_price.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h3><a id="content-min" href="#content-min" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Min</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">min</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">min_price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="sql" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">SELECT</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">MIN</span><span style="color: #A6ACCD;">(price) </span><span style="color: #F78C6C;">AS</span><span style="color: #A6ACCD;"> min_price;</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">min_stock.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h3><a id="content-avg" href="#content-avg" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Avg</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">avg</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">avg_ranting</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">count</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="sql" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">SELECT</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">AVG</span><span style="color: #A6ACCD;">(rating) </span><span style="color: #F78C6C;">AS</span><span style="color: #A6ACCD;"> avg_rating;</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">avg_ranting.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h3><a id="content-value-count" href="#content-value-count" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Value Count</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">valueCount</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">categories_count</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">category</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="sql" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #F78C6C;">SELECT</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">COUNT</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">DISTINCT</span><span style="color: #A6ACCD;"> category) </span><span style="color: #F78C6C;">AS</span><span style="color: #A6ACCD;"> categories_count;</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">categories_count.value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<h2><a id="content-bucket" href="#content-bucket" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Bucket</h2>
<h3><a id="content-stats" href="#content-stats" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Stats</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Key          </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Stat            </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">---------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">133</span><span style="color: #A6ACCD;">             </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Min</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">5</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">33</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Max</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">128</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">58</span><span style="color: #A6ACCD;">          </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Average</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">73</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">53</span><span style="color: #A6ACCD;">           </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Sum</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">9779</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">49</span><span style="color: #A6ACCD;">         </span><span style="color: #89DDFF;">|</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">stats</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">sales_stats</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">count</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">sales_stats</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">133</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">min</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">5</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">33</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">max</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">128</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">58</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">avg</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">73</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">53</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">sum</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">9779</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">49</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #89DDFF;">]</span></div></code></pre>
<h3><a id="content-terms" href="#content-terms" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Terms</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Key          </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Document Count  </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">---------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Musical</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">18</span><span style="color: #A6ACCD;">              </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Adventure</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">13</span><span style="color: #A6ACCD;">              </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Fantasy</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">20</span><span style="color: #A6ACCD;">              </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">N/A</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">7</span><span style="color: #A6ACCD;">               </span><span style="color: #89DDFF;">|</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">terms</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">category_terms</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">type</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">)-&gt;</span><span style="color: #82AAFF;">missing</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">N/A</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">category_terms.buckets</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Misical</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">18</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Adventure</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">13</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Fantasy</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">20</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">N/A</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">7</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">]</span></div><div class='line'><span style="color: #89DDFF;">]</span></div></code></pre>
<h3><a id="content-range" href="#content-range" class="heading-permalink" aria-hidden="true" title="Permalink">#</a>Range</h3>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Key          </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> Document Count  </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">---------------</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">0-100</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">803</span><span style="color: #A6ACCD;">             </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">100-200</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">422</span><span style="color: #A6ACCD;">             </span><span style="color: #89DDFF;">|</span></div><div class='line'><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">200+</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;">       </span><span style="color: #89DDFF;">|</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">343</span><span style="color: #A6ACCD;">             </span><span style="color: #89DDFF;">|</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">aggregation</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">range</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">name</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price_ranges</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">field</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">0-100</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">to</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">100</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">100-200</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">from</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">100</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">to</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">200</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">[</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">key</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">200+</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">from</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">200</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #89DDFF;">]);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">res</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">aggregation</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">price_ranges.buckets</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">);</span></div></code></pre>
<pre><code data-theme="material-theme-palenight" data-lang="php" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">0-100</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">to</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">100</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">0</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">803</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">100-200</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">from</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">100</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">0</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">to</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">200</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">0</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">422</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">200+</span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">from</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">200</span><span style="color: #89DDFF;">.</span><span style="color: #F78C6C;">0</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">      </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">doc_count</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">343</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">],</span></div><div class='line'><span style="color: #89DDFF;">]</span></div></code></pre>
